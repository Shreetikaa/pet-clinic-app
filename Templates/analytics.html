{% extends 'base.html' %}
{% block content %}

<h2>Appointments Analytics</h2>

<div class="card">
  <canvas id="statusChart"></canvas>
</div>

<script>
let pending = Number("{{ pending|default(0) }}");
let approved = Number("{{ approved|default(0) }}");
let rejected = Number("{{ rejected|default(0) }}");

const ctx = document.getElementById('statusChart').getContext('2d');

new Chart(ctx, {
  type: 'pie',
  data: {
    labels: ['Pending', 'Approved', 'Rejected'],
    datasets: [{
      data: [pending, approved, rejected],
      backgroundColor: ['#ffeaa7','#55efc4','#fab1a0'],
      borderWidth: 1
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { position: 'bottom' }
    }
  }
});
</script>

{% endblock %}